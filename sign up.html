<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,600;0,700;1,400&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/font-awesome.css" />
    <link rel="stylesheet" href="css/bootstrap.css" />
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="icon" href="images/Machypay logo svg.svg" />
    <script
      type="text/javascript"
      src="https://cdn.emailjs.com/dist/email.min.js"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"
    ></script>
    <script type="text/javascript">
      (function () {
        emailjs.init({
          publicKey: "YOUR_PUBLIC_KEY",
        });
      })();
    </script>
    <title>MachyPay Sign Up</title>
  </head>
  <body>
    <style>
      .pd {
        height: 40px;
        padding: 10px;
        /* text-align: center; */
        border: 0.01rem solid #313ed7;
        border-radius: 5px;
        /* box-shadow: 3px 3px 2px rgb(249, 255, 85); */
      }

      .pd:focus {
        color: #3470fa;
        background-color: #f0efef;
        outline-color: #3470fa;
        box-shadow: -1px -1px 8px #3470fa;
        transition: 0.1s;
        transition-property: box-shadow;
      }
      #popup-message {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background-color: #28a745; /* Green for success */
        color: white;
        padding: 10px 20px;
        border-radius: 5px;
        display: none;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        z-index: 9999;
      }

      #popup-message.error {
        background-color: #dc3545; /* Red for error */
      }

      #popup-message.success {
        background-color: #28a745; /* Green for success */
      }

      .d-none {
        display: none !important; /* Ensure it's hidden by default */
      }
    </style>

    <!-- Pop up onload -->
    <div
      class="modal fade"
      id="welcomeModal"
      tabindex="-1"
      aria-labelledby="welcomeModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5
              class="modal-title"
              id="welcomeModalLabel"
              style="color: #264aca; font-weight: 800"
            >
              Welcome to MachyPay
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p>Thank you for visiting MachyPay. Kindly Sign up to proceed</p>
          </div>
          <div class="modal-footer">
            <button
              style="
                background-color: #859ae4;
                box-shadow: -3px 4px 0px 0px #264aca;
                border: 3px solid #264aca;
                border-radius: 1em;
                background-color: #051551;
                color: #fff;
                font-weight: bolder;
              "
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top navbar-dark">
      <div class="container">
        <a href="index.html" class="navbar-brand">
          <img src="images/Machypay logo.png" alt="" width="225" />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNavDropdown"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a href="index.html" class="nav-link fw-semibold">Home</a>
            </li>
            <li class="nav-item">
              <a href="index.html#services" class="nav-link fw-semibold"
                >About Us</a
              >
            </li>
            <li class="nav-item">
              <a href="index.html#details" class="nav-link fw-semibold"
                >Services</a
              >
            </li>
            <li class="nav-item">
              <a href="index.html#details" class="nav-link fw-semibold"
                >Payments</a
              >
            </li>
            <li class="nav-item">
              <a href="index.html#blog" class="nav-link fw-semibold">Blog</a>
            </li>
            <li class="nav-item">
              <a
                href="sign up.html"
                class="nav-link btn btn-outline-light fw-semibold px-4 mx-4 me-md-2 mb-3 mb-md-0"
                style="min-width: 150px"
                >Sign Up</a
              >
            </li>
            <li class="nav-item">
              <a
                href="Sign in.html"
                class="nav-link btn btn-outline-light fw-semibold px-4 mx-4"
                style="min-width: 150px"
                >Sign In</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Header -->
    <header class="header">
      <!-- Hero -->
      <div class="hero text-white pt-7 pb-4">
        <div class="container-xl">
          <div class="row">
            <div class="col-12">
              <h1>Sign Up</h1>
            </div>
          </div>
        </div>
      </div>
      <svg
        class="frame-decoration"
        data-name="Layer 2"
        xmlns="http://www.w3.org/2000/svg"
        preserveAspectRatio="none"
        viewBox="0 0 1920 192.275"
      >
        <defs>
          <style>
            .cls-1 {
              fill: #f3f6f9;
            }
          </style>
        </defs>
        <title>frame-decoration</title>
        <path
          class="cls-1"
          d="M0,158.755s63.9,52.163,179.472,50.736c121.494-1.5,185.839-49.738,305.984-49.733,109.21,0,181.491,51.733,300.537,50.233,123.941-1.562,225.214-50.126,390.43-50.374,123.821-.185,353.982,58.374,458.976,56.373,217.907-4.153,284.6-57.236,284.6-57.236V351.03H0V158.755Z"
          transform="translate(0 -158.755)"
        />
      </svg>
    </header>

    <section class="contact bg-light pb-4">
      <div class="container" style="background-color: #f3f6f9">
        <form
          id="signup-form"
          class="pb-4 pt-3"
          action="https://getform.io/f/apjjqnoa"
          method="POST"
        >
          <div class="mb-3">
            <label for="sendername" class="form-label">First Name</label>
            <input
              type="text"
              name="sendername"
              id="sendername"
              class="form-control pd"
            />
            <small class="text-danger d-none">First Name is required.</small>
          </div>
          <div class="mb-3">
            <label for="last-name" class="form-label">Last Name</label>
            <input
              type="text"
              name="last-name"
              id="last-name"
              class="form-control pd"
            />
            <small class="text-danger d-none">Last Name is required.</small>
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Email Address</label>
            <input
              type="email"
              name="email"
              id="to-email"
              class="form-control pd"
            />
            <small class="text-danger d-none">Valid Email is required.</small>
          </div>
          <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input
              type="password"
              id="password"
              name="dpassd"
              class="form-control pd"
            />
            <small class="text-danger d-none">Password is required.</small>
          </div>
          <div class="mb-3">
            <label for="confirm-password" class="form-label"
              >Confirm Password</label
            >
            <input
              type="password"
              id="confirm-password"
              class="form-control pd"
            />
            <small class="text-danger d-none">Passwords must match.</small>
          </div>
          <div class="mb-3">
            <input type="checkbox" id="remember" class="form-check-input" />
            <label for="remember" class="form-check-label">Remember me</label>
          </div>
          <div class="mb-3">
            <button
              type="submit"
              id="sign-up-button"
              class="btn text-white align-self-start w-100"
              style="background-image: linear-gradient(#3470fa, #313ed7)"
            >
              Sign Up
            </button>
          </div>
          <div id="popup-message" class="d-none">
            <p id="popup-text"></p>
          </div>
        </form>
      </div>
    </section>

    <!-- Map -->
    <section class="location my-5">
      <div class="container">
        <div class="row">
          <div class="col-10 offset-1">
            <h3>Our Location</h3>
            <p class="mb-4">
              Machypay is proudly based at the University of Ibadan, Nigeria's
              premier institution of higher learning. Located within the
              university's vibrant academic community, Machypay offers secure
              and efficient banking services tailored to the needs of students,
              faculty, and beyond. Our platform leverages cutting-edge
              technology to provide seamless financial transactions, ensuring
              convenience for all our users.
            </p>
            <div class="map">
              <iframe
                src="https://www.google.com/maps/embed?pb=!1m16!1m12!1m3!1d35525.951901230685!2d3.90272187124383!3d7.411280524348771!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!2m1!1sUniversity%20of%20Ibadan%2C%20Ibadan!5e1!3m2!1sen!2sng!4v1737503484065!5m2!1sen!2sng"
                width="600"
                height="450"
                style="border: 0"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
                allowfullscreen
              ></iframe>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Social -->
    <section class="social text-bg-dark py-6 overflow-hidden">
      <div class="container">
        <div class="row">
          <div class="col-md-6 offset-md-3 text-center fs-4">
            <p>
              Stay connected and join our vibrant community. For any inquiries
              or assistance, feel free to reach out to us
            </p>
            <div class="social-icons d-flex justify-content-center gap-4">
              <a
                href="https://www.instagram.com/rtu_arena61/"
                style="color: #7694ff"
                ><i class="fab fa-facebook fa-2x"></i
              ></a>
              <a
                href="https://www.instagram.com/rtu_arena61/"
                style="color: #7694ff"
                ><i class="fab fa-twitter fa-2x"></i
              ></a>
              <a
                href="https://www.instagram.com/rtu_arena61/"
                style="color: #7694ff"
                ><i class="fab fa-instagram fa-2x"></i
              ></a>
              <a
                href="https://www.instagram.com/rtu_arena61/"
                style="color: #7694ff"
                ><i class="fab fa-linkedin fa-2x"></i
              ></a>
              <a
                href="https://www.instagram.com/rtu_arena61/"
                style="color: #7694ff"
                ><i class="fab fa-pinterest fa-2x"></i
              ></a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="border-top border-primary text-bg-dark text-white py-4">
      <div class="container">
        <div class="row">
          <div class="col-md-8">
            <ul class="nav">
              <li class="nav-item">
                <a href="index.html" class="nav-link link-light">Home</a>
              </li>
              <li class="nav-item">
                <a href="#details" class="nav-link link-light">Details</a>
              </li>
              <li class="nav-item">
                <a href="contact.html" class="nav-link link-light">Contact</a>
              </li>
            </ul>
          </div>
          <div class="col-md-4">
            <p class="text-end d-none d-md-block">
              Copyright &copy; OJEBUYI MICHAEL 2025
            </p>
          </div>
        </div>
      </div>
    </footer>

    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/script.js"></script>

    <script>
      // Show the modal automatically when the page loads
      window.addEventListener("load", function () {
        var myModal = new bootstrap.Modal(
          document.getElementById("welcomeModal")
        );
        myModal.show();
      });

      document.addEventListener("DOMContentLoaded", () => {
        // EmailJS initialization
        emailjs.init("uJuH2CFi7w-FySO9t"); // Replace with your actual Public Key

        // Attach the form submit event listener
        document
          .querySelector("#signup-form")
          .addEventListener("submit", sendMail);
      });

      function sendMail(event) {
        event.preventDefault(); // Prevent the form from submitting normally

        // Get form elements
        const sendername = document.querySelector("#sendername");
        const lastName = document.querySelector("#last-name");
        const email = document.querySelector("#to-email");
        const password = document.querySelector("#password");
        const confirmPassword = document.querySelector("#confirm-password");

        // Initialize a flag to track form validity
        let isValid = true;

        // Reset error messages and styles
        document
          .querySelectorAll(".text-danger")
          .forEach((el) => el.classList.add("d-none"));
        document
          .querySelectorAll(".form-control")
          .forEach((el) => (el.style.borderColor = ""));

        // Validate fields
        if (!sendername.value.trim()) {
          sendername.style.borderColor = "red";
          sendername.nextElementSibling.classList.remove("d-none");
          isValid = false;
        }

        if (!lastName.value.trim()) {
          lastName.style.borderColor = "red";
          lastName.nextElementSibling.classList.remove("d-none");
          isValid = false;
        }

        if (!email.value.trim() || !validateEmail(email.value)) {
          email.style.borderColor = "red";
          email.nextElementSibling.classList.remove("d-none");
          isValid = false;
        }

        if (!password.value.trim()) {
          password.style.borderColor = "red";
          password.nextElementSibling.classList.remove("d-none");
          isValid = false;
        }

        if (password.value !== confirmPassword.value) {
          confirmPassword.style.borderColor = "red";
          confirmPassword.nextElementSibling.classList.remove("d-none");
          isValid = false;
        }

        if (isValid) {
          const params = {
            sendername: sendername.value,
            email: email.value,
          };

          const serviceID = "service_jwlz6kd";
          const templateID = "template_e6m6jkc";

          emailjs
            .send(serviceID, templateID, params)
            .then((res) => {
              showPopup("Email Sent Successfully!", "success");
              document.querySelector("#signup-form").reset();

              setTimeout(() => {
                window.location.href = "/";
              }, 2000);
            })
            .catch((error) => {
              console.error("Email sending error:", error);
              showPopup(
                "Failed to send email. Error: " +
                  (error.text || "Unknown error"),
                "error"
              );
            });
        }
      }

      function validateEmail(email) {
        const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        return emailPattern.test(email);
      }

      function showPopup(message, type) {
        const popup = document.querySelector("#popup-message");
        const popupText = document.querySelector("#popup-text");

        popupText.textContent = message;
        popup.classList.remove("d-none", "success", "error");
        popup.classList.add(type);

        popup.style.display = "block";
        setTimeout(() => {
          popup.style.display = "none";
        }, 5000);
      }
    </script>
  </body>
</html>
